---
interface Props {
  class?: string;
  width?: string;
  height?: string;
}

const { class: className, width, height } = Astro.props;
const style = [width && `width: ${width}`, height && `height: ${height}`].filter(Boolean).join('; ');
---

<div class={`skeleton ${className ?? ''}`} style={style || undefined}></div>

<style>
.skeleton {
  background: linear-gradient(
    90deg,
    var(--highlight-low) 0%,
    var(--highlight-med) 50%,
    var(--highlight-low) 100%
  );
  background-size: 200% 100%;
  animation: shimmer 1.5s ease-in-out infinite;
  border-radius: 8px;
}

@keyframes shimmer {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}

@media (prefers-reduced-motion: reduce) {
  .skeleton {
    animation: none;
    background: var(--highlight-med);
  }
}
</style>
